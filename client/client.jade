head
    // script(async='', src='https://www.googletagmanager.com/gtag/js?id=UA-125029650-1')
    script.
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-125029650-1');
    title JAN-PRO Portal
    link(rel="apple-touch-icon", sizes="180x180", href="/apple-touch-icon.png")
    link(rel="icon", type="image/png", sizes="32x32", href="/favicon-32x32.png")
    link(rel="icon", type="image/png", sizes="16x16", href="/favicon-16x16.png")
    link(rel="manifest", href="/site.webmanifest")
    link(rel="mask-icon", href="/safari-pinned-tab.svg", color="#5bbad5")
    meta(name="msapplication-TileColor", content="#da532c")
    meta(name="theme-color", content="#01336C")

    link(rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous")

    link(href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet")


    meta(name='viewport', content='user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width')
    meta(name='apple-mobile-web-app-capable', content='yes')
    meta(name='apple-mobile-web-app-status-bar-style', content='black')

    // script(src="https://cdn.rawgit.com/mdehoog/Semantic-UI-Calendar/76959c6f7d33a527b49be76789e984a0a407350b/dist/calendar.min.js")

body
    +home


template(name='home')
    if currentUser
        .ui.stackable.padded.grid
            +nav
            #main
                if delta.viewing_menu
                    +Template.dynamic template=delta.menu_template
                else if delta.viewing_page
                    +Template.dynamic template=delta.page_template
                else
                    +delta
        //     .middle_column(class=middle_column_class)
        // +footer
    else
        +login



template(name='response')
    if delta.result_ids
        if delta.result_ids.length
            | #{delta.total} results
            .ui.horizontal.list
                // .item
                //     +set_page_size value=10
                //     +set_page_size value=20
                //     +set_page_size value=50
                // .item
                //     if multiple_pages
                //         .ui.label
                //             | Page #{delta.current_page}/#{delta.page_amount}
                .item
                // .item
                //     if show_page_down
                //         .ui.icon.button.page_down(title='Previous Page')
                //             +icon name='chevron-left'
                //             // +icon name='chevron-left' classes='mini spaced'
                //     if show_page_up
                //         .ui.icon.button.page_up(title='Next Page')
                //             +icon name='chevron-right'
                // .item
                //     +toggle_delta_config key='minimize' title='Minimize' label='Minimize' icon='chevron-up'
            if is_calculating
                .ui.hidden.divider
                .ui.active.indeterminate.massive.centered.inline.loader
            else
                if delta.doc_view
                    with delta.doc_id
                        +doc
                else
                    each delta.result_ids
                        +doc
    else
        |No results



template(name='nav')
    .centered.row
        .four.wide.center.aligned.column
            .ui.icon.button
                i.plus.icon
        .eight.wide.column
            img.ui.small.centered.image.delta.pointer(src='https://jan-pro.com/wp-content/themes/underboot/img/jan-pro-blue.svg')
        .four.wide.column
            .ui.icon.button
                i.user.icon
            #logout.ui.icon.button
                if signing_out
                    // +icon name='spinner' classes='fa-pulse'
                    i.spinner.loading.icon
                else
                    i.sign.out.icon
                // strong &nbsp; Log Out

                    
template(name='role_switcher')
    each role_docs
        .change_role.ui.margined.small.compact.button(class=role_button_class)
            |#{title}


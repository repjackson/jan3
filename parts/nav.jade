template(name='nav')
    .ui.inverted.blue.fixed.borderless.menu
        // .mobile.only.ui.dropdown.icon.link.item
        //     i.th.large.icon
        //     .ui.menu
        //         a.icon.item(href='/people' class="{{isActivePath '/people'}}")
        //             i.large.users.icon
        //             // | Users
        //         a.icon.item(href='/incidents' class="{{isActivePath '/incidents'}}")
        //             i.large.clipboard.icon
        //             // | Incidents
        //         a.icon.item(href='/offices' class="{{isActivePath '/offices'}}")
        //             i.large.building.icon
        //             // | Offices
        //         a.icon.item(href='/services' class="{{isActivePath '/services'}}")
        //             i.large.shipping.fast.icon
        //             // | Services
        a.toggle_sidebar.icon.item 
            i.bars.large.icon
        a.header.item(href='/' class="{{isActivePath '/'}}" )
            // i.large.home.icon
            img.ui.tiny.image(src='https://jan-pro.com/wp-content/themes/underboot/img/jan-pro-white.svg')
            // | Home
        a.mobile.hidden.item(href='/people' class="{{isActivePath '/people'}}" data-content='Users')
            // i.large.users.icon
            +mini_sprite name='user-group-man-woman'
            // | &nbsp; Users
        a.mobile.hidden.item(href='/incidents' class="{{isActivePath '/incidents'}}" data-content='Incidents')
            +mini_sprite name='urgent-property'
            // i.large.clipboard.icon
            // | &nbsp; Incidents
        a.mobile.hidden.item(href='/offices' class="{{isActivePath '/offices'}}" data-content='Offices')
            +mini_sprite name='organization'
            // i.large.building.icon
            // | &nbsp; Offices
        a.mobile.hidden.item(href='/services' class="{{isActivePath '/services'}}" data-content='Services')
            +mini_sprite name='housekeeping'
        // a.mobile.hidden.disabled.item(href='/schedule' class="{{isActivePath '/schedule'}}" data-content='Schedule')
        // .mobile.hidden.item(data-content='Schedule')
        //     +dots name='planner'
        // .mobile.hidden.item(href='/consumerables' class="{{isActivePath '/consumerables'}}" data-content='Consumerables')
        // .mobile.hidden.item(data-content='Consumerables')
        //     +dots name='toilet-paper'
            // i.large.shipping.fast.icon
            // | &nbsp; Services
        .mobile.hidden.item
            .ui.icon.transparent.inverted.input
                input(type='text' placeholder='Search...')
                i.search.link.icon
        .right.menu
            a.mobile.hidden.item(href='/admin' class="{{isActivePath '/admin'}}" data-content='Admin')
                // i.shield.alternate.icon
                +mini_sprite name='user-shield'
                // | Admin
            // .icon.item
            //     i.bell.icon
            a.icon.mobile.hidden.item(href='/chat')
                +mini_sprite name='chat'
            // a.icon.mobile.hidden.item(href='/cart')
            //     +mini_sprite name='shopping-cart'
            a.icon.mobile.hidden.item(href='/mail')
                +mini_sprite name='secured-letter'
            a.ui.simple.dropdown.icon.mobile.hidden.item(href='/notifications')
                +mini_sprite name='appointment-reminders'
                .menu
                    .item No Notifications
            if currentUser
                a.ui.dropdown.item(href="/account/profile/edit/#{currentUser._id}" class="{{isActivePath '/account/profile/edit/#{currentUser._id}'}}")
                    if currentUser.profile.image_id
                        img.ui.avatar.spaced.image(src="{{c.url currentUser.profile.image_id width=50 height=50 gravity='face' crop='fill'}}")
                    else
                        i.user.icon
                    |#{currentUser.username}
                    // if currentUser.name
                    //     .mobile.hidden #{currentUser.name}
                    // else
                    //     | Profile
                    .ui.inverted.menu
                        .disabled.item
                            i.bell.icon
                            | Notifications
                        .disabled.item
                            i.envelope.icon
                            | Mail
                        a.item(href="/account/profile/edit/#{currentUser._id}" class="{{isActivePath '/account/profile/edit/#{currentUser._id}'}}")
                            i.user.icon
                            | Profile
                        a.item(href='/account/settings' class="{{isActivePath '/account/settings'}}") 
                            i.cog.icon
                            | Settings
                        .divider
                        a#logout.ui.item(href='#') 
                            | Sign Out
                            
            else
                a.ui.item(href='/sign-in') 
                    i.right.chevron.icon
                    | Sign In

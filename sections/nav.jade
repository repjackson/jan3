template(name='nav')
    #nav.ui.inverted.top.attached.borderless.menu
        a.toggle_left_sidebar.icon.item 
            i.bars.large.icon
        a.header.item(href='/' class="{{isActivePath '/'}}" data-position="bottom center" data-content='Dashboard')
            i.home.large.icon
            // img.ui.tiny.compact.inline.image(src='https://jan-pro.com/wp-content/themes/underboot/img/jan-pro-white.svg')
            // | Home
        a.mobile.hidden.item(href='/users' class="{{isActivePath '/users'}}" data-position="bottom center" data-content='Users')
            i.users.large.icon
            // | &nbsp; Users
        a.mobile.hidden.item(href='/incidents' class="{{isActivePath '/incidents'}}" data-position="bottom center" data-content='Incidents')
            i.exclamation.large.icon
            // | &nbsp; Incidents
        // a.mobile.hidden.item(href='/offices' class="{{isActivePath '/offices'}}" data-position="bottom center" data-content='Offices')
        //     i.building.large.icon
        //     | &nbsp; Offices
        a.mobile.hidden.item(href='/franchises' class="{{isActivePath '/franchises'}}" data-position="bottom center" data-content='Franchises')
            i.building.large.icon
            // | &nbsp; Franchises
        a.mobile.hidden.item(href='/customers' class="{{isActivePath '/customers'}}" data-position="bottom center" data-content='Customers')
            i.handshake.large.icon
            // | &nbsp; customers
        a.mobile.hidden.item(href='/feed' class="{{isActivePath '/feed'}}" data-position="bottom center" data-content='Feed')
            i.rss.large.icon
            // | Feed
        a.mobile.hidden.item(href='/view/P6GMxCjCFcQjuC63E' class="{{isActivePath '/view/P6GMxCjCFcQjuC63E'}}" data-position="bottom center" data-content='FlowChart')
            i.sitemap.large.icon
            // | &nbsp; Flow
        a.mobile.hidden.item(href='/ev' class="{{isActivePath '/ev'}}" data-position="bottom center" data-content='EV Explorer')
            i.database.large.icon
            // | EV Explorer
            
        // a.mobile.hidden.large.icon.item(href='/services' class="{{isActivePath '/services'}}" data-position="bottom center" data-content='Services/Ecommerce')
        //     i.shipping.fast.large.icon
        //     | &nbsp; Services
        // a.mobile.hidden.large.icon.item(href='/schedule' class="{{isActivePath '/schedule'}}" data-position="bottom center" data-content='Schedule')
        //     i.calendar.large.icon
        //     | &nbsp; Schedule
        // .mobile.hidden.item
        //     .ui.large.icon.transparent.inverted.disabled.input
        //         input(type='text' placeholder='Search...')
        //         i.search.large.icon
        .right.menu
            a.mobile.hidden.item(href='/dev' class="{{isActivePath '/dev'}}" data-position="bottom center" data-content='Dev')
                i.terminal.large.icon
                // | Dev
            a.mobile.hidden.item(href='/admin' class="{{isActivePath '/admin'}}" data-position="bottom center" data-content='Admin')
                i.shield.alternate.large.icon
                // | Admin
            a.large.icon.mobile.hidden.item(href='/chat' class="{{isActivePath '/chat'}}" data-position="bottom center" data-content='Chat')
                i.comments.large.icon
            // .icon.mobile.hidden.disabled.item(data-position="bottom center" data-content='Cart')
            //     i.shopping.cart.icon
            // a.ui.simple.dropdown.icon.mobile.hidden.item(href='/alerts')
            //     i.bell.icon
            //     .menu
            //         .item No alerts
            if currentUser
                a.toggle_right_sidebar.item
                    if currentUser.profile.image_id
                        img.ui.avatar.image(src="{{c.url currentUser.profile.image_id width=50 height=50 gravity='face' crop='fill'}}")
                    else
                        i.user.icon
                    // if currentUser.name
                    //      #{currentUser.name}
                    // else
                    //      #{currentUser.username}
                    //     | Profile
                    // (href="/profile/edit/#{currentUser._id}" class="{{isActivePath '/profile/edit/#{currentUser._id}'}}")
                            
            else
                a.ui.item(href='/sign-in') 
                    | Sign In
                    i.right.chevron.icon



template(name='left_sidebar')
    #nav.ui.left.vertical.sidebar.inverted.menu
        // a.header.toggle_left_sidebar.item(href='/' class="{{isActivePath '/'}}") 
        //     i.home.icon
        //     |Jan-Pro
        a.toggle_left_sidebar.item(href='/front' class="{{isActivePath '/front'}}" data-position="bottom center" data-content='Sales Page')
            i.globe.icon
            | Sales Page
        a.toggle_left_sidebar.item(href='/users' class="{{isActivePath '/users'}}" data-position="right center" data-content='Users')
            i.users.icon
            | Users
        a.toggle_left_sidebar.item(href='/incidents' class="{{isActivePath '/incidents'}}" data-position="right center" data-content='Incidents')
            i.clipboard.icon
            | Incidents
        a.toggle_left_sidebar.item(href='/offices' class="{{isActivePath '/offices'}}" data-position="right center" data-content='Offices')
            i.building.icon
            | Offices
        a.toggle_left_sidebar.item(href='/schedule' class="{{isActivePath '/schedule'}}" data-position="right center" data-content='Schedule')
            i.calendar.icon
            | Schedule
        a.toggle_left_sidebar.item(href='/services' class="{{isActivePath '/services'}}" data-position="right center" data-content='Services')
            i.clock.icon
            // +tiny_sprite name='duster'
            | Services
        a.toggle_left_sidebar.item(href='/franchises' class="{{isActivePath '/franchises'}}" data-position="bottom center" data-content='Franchises')
            i.building.icon
            | Franchises
        a.toggle_left_sidebar.item(href='/customers' class="{{isActivePath '/customers'}}" data-position="bottom center" data-content='Customers')
            i.handshake.icon
            | Customers
            
        //     // a.icon.item(href='/dashboard' class="{{isActivePath '/dashboard'}}" data-position="right center" data-content='Charts')
        //     //     i.line.chart.icon
        // a.toggle_left_sidebar.item(href='/store' data-position="bottom center" data-content='Store')
        //     i.shopping.cart.icon
        //     | Store
            
        a.icon.toggle_left_sidebar.item(href='/admin' class="{{isActivePath '/admin'}}" data-position="right center" data-content='Admin')
            i.shield.icon
            | Admin
            // a.toggle_sidebar.item(href="/profile/edit/#{currentUser._id}" class="{{isActivePath '/profile/edit/#{currentUser._id}'}}" data-position="right center" data-content='Charts')
            //     if currentUser.profile.first_name
            //         | #{currentUser.profile.first_name}
            //     else
            //         | #{currentUser.username}
            //     if currentUser.profile.image_id
            //         img.ui.avatar.image(src="{{c.url currentUser.profile.image_id width=50 height=50 gravity='face' crop='fill'}}" data-position="right center" data-content='Charts')
            //     else
            //         i.user.icon
            // a#logout.ui.toggle_sidebar.item(href='#') 
            //     i.icon
            //         +mini_sprite name='edit'
            //     | Sign Out
        unless currentUser
            a.ui.toggle_sidebar.item(href='/sign-in') 
                // i.icon
                //     +mini_sprite name='enter'
                | Sign In


template(name='right_sidebar')
    #nav.ui.right.inline.vertical.sidebar.inverted.menu
        if currentUser
            a.toggle_right_sidebar.header.item(href="/profile/edit/#{currentUser._id}" class="{{isActivePath '/profile/edit/#{currentUser._id}'}}")
                img.ui.avatar.spaced.image(src="{{c.url currentUser.profile.image_id width=50 height=50 gravity='face' crop='fill'}}")
                |#{currentUser.username}
        a.icon.toggle_right_sidebar.item(href='/flow' class="{{isActivePath '/flow'}}")
            i.sitemap.icon
            | Flow
        a.icon.toggle_right_sidebar.item(href='/questions' class="{{isActivePath '/questions'}}")
            i.question.icon
            | Q&A
        // a.icon.toggle_right_sidebar.item(href='/rankings' class="{{isActivePath '/rankings'}}")
        //     i.trophy.icon
        //     | Leaderboard
        // a.toggle_right_sidebar.item(href='/alerts')
        //     i.bell.icon
        //     | Alerts
        // a.toggle_right_sidebar.item(href='/charts')
        //     i.line.chart.icon
        //     | Chart Demo
        // a.toggle_right_sidebar.item(href='/mail')
        //     i.envelope.icon
        //     | Mail
        a.toggle_right_sidebar.item(href='/dev' class="{{isActivePath '/dev'}}" data-position="bottom center" data-content='dev')
            i.terminal.icon
            | Dev
        a.toggle_right_sidebar.item(href='/feed')
            i.rss.icon
            | Feed
        // a.toggle_right_sidebar.item(href='/chat')
        //     i.chat.icon
        //     | Chat
        a.toggle_right_sidebar.item(href='/bookmarks')
            i.bookmark.icon
            | Bookmarks
        a.toggle_right_sidebar.item(href='/account/settings' class="{{isActivePath '/account/settings'}}") 
            i.cog.icon
            | Settings
        .divider
        a.toggle_right_sidebar.item(href='/admin' class="{{isActivePath '/admin'}}")
            i.shield.icon
            | Admin
        a#logout.ui.item(href='#') 
            i.right.chevron.icon
            | Sign Out
template(name='incident_types')
    .ui.stackable.padded.grid
        .row 
            .four.wide.column
                .ui.center.aligned.header 
                    i.exclamation.triangle.icon
                    | Incident Types
                +add_button type='incident_type'
            .twelve.wide.column
                .ui.centered.stackable.cards
                    each incident_types
                        +incident_type_card

template(name='incident_type_card')
    .ui.fluid.card
        .content
            a.grey.header(href="/view/#{_id}")
                |#{name} 
            .meta Slug: #{slug}
        .content
            |!{html}
            +edit_button
            +view_button
        
        
        
template(name='incident_type_edit')
    .ui.padded.stackable.centered.grid
        .centered.middle.aligned.row
            .three.wide.column
                #delete.ui.icon.button
                    i.trash.icon
            .ten.wide.column
                h1.ui.center.aligned.grey.header Edit Incident Type #{name}
            .three.wide.column
                +save_button
        .eight.wide.column
            .ui.form
                +edit_text_field key='name' label='Incident Type Name'
                +edit_text_field key='slug' label='Slug (machine readable)'
                +edit_html
        
        
template(name='incident_type_view')
    .ui.padded.stackable.centered.grid
        .centered.middle.aligned.row
            .three.wide.column
                +link_button link='/incident_types' icon='exclamation triangle'
            .ten.wide.column
                h1.ui.center.aligned.grey.header Incident Type: #{name}
            .three.wide.column
                +edit_button
        .row
            .four.wide.column
                .ui.header Name: #{name}
                .ui.header Description: !{html}
                +incidents_by_type type=slug
            .twelve.wide.column
                +comments
                
                
// template(name='incident_type_selector')
//     each user_incident_types
//         .toggle_incident_type.ui.button #{name}            